(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,e,a){t.exports=a(21)},20:function(t,e,a){},21:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(11),i=a.n(s),o=a(2),c=a(3),u=a(5),l=a(4),p=a(6),d=a(8),h=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={latitude:null,longitude:null},a.handleGetGeoClick=a.handleGetGeoClick.bind(Object(d.a)(a)),a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"handleGetGeoClick",value:function(){this.getGeo()}},{key:"getGeo",value:function(){var t,e=this;new Promise(function(e,a){navigator.geolocation.getCurrentPosition(e,a,t)}).then(function(t){return e.coords=t,e.coords}).catch(function(t){alert(t.message)}).then(function(t){return e.setState({latitude:t.coords.latitude,longitude:t.coords.longitude},function(){return e.props.liftingData(e.state.latitude,e.state.longitude)}),e.coords})}},{key:"render",value:function(){return r.a.createElement("div",{className:"geoButton"},r.a.createElement("div",{onLoad:this.handleGetGeoClick()},"Your coordinates are: latitude ",this.state.latitude?this.state.latitude:"0.0"," ; longitude   ",this.state.longitude?this.state.longitude:"0.0"))}}]),e}(r.a.Component),m=a(1),f=a.n(m),b=a(7),y="7a1ee10880b498dbc386741f0bb3f9dd",v=a(12),g=a.n(v),j=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={error:null,isLoaded:!1,items:[],input:"",day:!0},a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t){this.props.props.input!==t.props.input&&this.search(),this.props.props.latitude!==t.props.latitude&&this.getForecastByCoords(),this.props.props.day!==t.props.day&&this.renderForecast()}},{key:"getForecastByCoords",value:function(){var t=this;new Promise(function(){var e=Object(b.a)(f.a.mark(function e(a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.props);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(Object(b.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(t.props.props.latitude,"&lon=").concat(t.props.props.longitude,"&appid=").concat(y)).then(function(){var t=Object(b.a)(f.a.mark(function t(e){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).then(function(e){t.setState({isLoaded:!0,items:e})},function(e){t.setState({isLoaded:!0,error:e})});case 2:case"end":return e.stop()}},e)})))}},{key:"search",value:function(){var t=this;new Promise(function(){var e=Object(b.a)(f.a.mark(function e(a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout(function(){a(t.props)},1e3);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(Object(b.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t.props.props.input,"&appid=").concat(y)).then(function(){var t=Object(b.a)(f.a.mark(function t(e){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).then(function(e){t.setState({isLoaded:!0,items:e})},function(e){t.setState({isLoaded:!0,error:e})});case 2:case"end":return e.stop()}},e)})))}},{key:"dayNightFilter",value:function(t){return this.props.props.day?t.filter(function(t){return"12:00:00"===t.dt_txt.slice(11)}):this.props.props.day?void 0:t.filter(function(t){return"00:00:00"===t.dt_txt.slice(11)})}},{key:"pictureFilter",value:function(t){var e="";switch(t.weather[0].main){case"Clouds":e="https://images.pexels.com/photos/414659/pexels-photo-414659.jpeg?auto=format%2Ccompress&cs=tinysrgb&dpr=2&h=750&w=1260";break;case"Rain":e="https://cdn.pixabay.com/photo/2015/07/02/10/45/raindrops-828954_960_720.jpg";break;case"Snow":e="https://cdn.pixabay.com/photo/2014/04/05/11/05/ice-314281_960_720.jpg";break;case"Clear":e="https://images.pexels.com/photos/912110/pexels-photo-912110.jpeg?auto=format%2Ccompress&cs=tinysrgb&dpr=2&h=750&w=1260";break;default:e="https://cdn.pixabay.com/photo/2014/08/27/15/05/clouds-429228_960_720.jpg"}return e}},{key:"renderForecast",value:function(){var t=this,e=this.state.items.list,a=this.dayNightFilter(e).map(function(e){return r.a.createElement("div",{key:e.dt,className:"card-deck"},r.a.createElement("div",{className:"card",styles:{width:"18rem;"}},r.a.createElement("img",{src:t.pictureFilter(e),className:"card-img-top",alt:"..."}),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-text"},r.a.createElement("div",null,e.dt_txt.slice(0,10)),r.a.createElement("div",null,e.weather[0].description),r.a.createElement("div",null,"Temperature is ",e.main.temp," F "),r.a.createElement("div",null,"Athmospheric pressure is ",e.main.pressure," mbar ")))))});return r.a.createElement("div",{className:"card-deck"},a)}},{key:"render",value:function(){var t=this.state,e=t.isLoaded,a=t.items;return null!=this.state.error?r.a.createElement("div",{className:"container-fluid data text-center"},"API Server is not responding "):e?g.a.isUndefined(a)?r.a.createElement("div",{className:"container-fluid data"},"Unable to get your GeoLocation or server went wrong"):r.a.createElement("div",null,r.a.createElement("h4",{className:"cityName"},"5 Days Weather Forecast ",this.state.items.city.name),this.renderForecast()):r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),e}(r.a.Component),k=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={input:""},a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.liftingData(this.state.input)}},{key:"handleChange",value:function(t){this.setState({input:t.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{id:"searchBar"},r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"searchForm",placeholder:"Where do you live?",value:this.state.input,onChange:this.handleChange.bind(this)}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary searchButton",onClick:this.handleSubmit.bind(this)},"Search"))}}]),e}(r.a.Component),O=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={day:!0},a.setDay=a.setDay.bind(Object(d.a)(a)),a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"setDay",value:function(){!0===this.state.day?this.setState({day:!1}):this.setState({day:!0}),this.props.isDay(this.state.day)}},{key:"render",value:function(){var t=this.state.day;return r.a.createElement("div",null,t?r.a.createElement("button",{type:"button",onClick:this.setDay,className:"btn btn-secondary btn-sm"},"Night"):r.a.createElement("button",{type:"button",onClick:this.setDay,className:"btn btn-primary btn-sm"},"Day"))}}]),e}(r.a.Component),E=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).getInput=function(t){a.setState({input:t})},a.getTimeOfDay=function(t){a.setState({day:t})},a.getPosition=function(t,e){a.setState({latitude:t,longitude:e})},a.state={latitude:null,longitude:null,input:"",day:!0},a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,{isDay:this.getTimeOfDay}),r.a.createElement(h,{liftingData:this.getPosition}),r.a.createElement(k,{liftingData:this.getInput}),r.a.createElement(j,{props:this.state}))}}]),e}(r.a.Component);a(20);i.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.f8a3bd12.chunk.js.map